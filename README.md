# KopoBlockchain
Python Blockchain Implementation for educational purposes (Dept. of Smart Finance of Korea Polytechnics)<br>
It is a project to help learners who want to understand blockchain technology.

Implements socket servers that request and respond using the Restful API
- To Load and Add Blocks
- Mining Blocks
- Update Transaction History
- Verifying and Spreading Blockchain
*****
## Prerequisites
You have to install following libraries (pip install) to execute myBlockChain.py
- requests
*****
## Development environment
- <img src="https://img.shields.io/badge/Python-3776AB?style=flat-square&logo=Python&logoColor=white" /> Python 3.9.7
- <img src="https://img.shields.io/badge/Pycharm-000000?style=flat-square&logo=Pycharm&logoColor=white" /> Pycharm 3.9.7
- <img src="https://img.shields.io/badge/Postman-FF6C37?style=flat-square&logo=Postman&logoColor=white" /> Postman 9.16.0
*****
## File Description
* **server_GetPost.py**<br>
Helps to understand and practice the Restful API before executing the main file.<br><br>
* **myBlockChain.py**<br>
Main code that contains the blockchain technology for generating, loading, mining, trading, validating, comparing, and storing blocks.

# How to use
* **Generate the Genesis block**
1. <img src="https://img.shields.io/badge/Postman-FF6C37?style=flat-square&logo=Postman&logoColor=white" /> _Get request '/block/generateBlock'_
2. ```mineNewBlock()```  <br>Function to generate a new block if transaction data exists in "txData.csv".
3. ```readBlockchain()``` <br>Function to read blockchain data if blockchain data exists in "blockchain.csv", if not, it generates the genesis block and writes a file.
4. ```generateGenesisBlock()```
5. ```writeBlockchain()```<br>Function to write "blockchain.csv"
*****
* **Load blocks**
1. <img src="https://img.shields.io/badge/Postman-FF6C37?style=flat-square&logo=Postman&logoColor=white" /> _Get request '/block/getBlockData'_
2. ```readBlockchain()```
3.
```python
if block == None:
    print("No Block Exists")
    data.append("no data exists")
else:
    for i in range(0, len(block)):
        print(block[i].__dict__)
        data.append(block[i]__dict__)
```
*****
* **Update Transaction History**
1. <img src="https://img.shields.io/badge/Postman-FF6C37?style=flat-square&logo=Postman&logoColor=white" /> _Post request '/block/newtx'_
2. ```nettx()```<br>Function to create an object(tx) containing transaction data and pass it to```writeTx()```.
3. ```writeTx()```<br>Function to write "txData.csv"
*****
* **Mine a new Block**
1. <img src="https://img.shields.io/badge/Postman-FF6C37?style=flat-square&logo=Postman&logoColor=white" /> _Get request '/block/generateBlock'_
2. 
~~~
t = threading.Thread(target=mine)
t.start()
~~~
3. ```readBlockchain()```
4. ```getTxData()```<br>Function to get transaction data that has not yet been committed via ```readTx()``` and convert it to a string type
5. 
```python
while not newBlockFound:
        newBlockAttempt = generateNextBlock(blockchain, strTxData, timestamp, proof)
        if newBlockAttempt.currentHash[0:difficulty] == '0' * difficulty: 
            stopTime = time.time()
            timer = stopTime - timestamp
            print('New block found with proof', proof, 'in', round(timer, 2), 'seconds.')
            newBlockFound = True
        else:
            proof += 1
```

If there is transaction data to be included in the block, the block is generated by repeating until a hash value satisfying the difficulty level is obtained

6. ```writeBlockchain()```
*****
# Diagrams
![KakaoTalk_20220617_163226327](https://user-images.githubusercontent.com/103027847/174252263-6eaf28ab-4ff2-4da0-976c-d3a85769063e.jpg)
